<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Polygon面信息管理</title>
	<link type="text/css" href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link type="text/css" href="bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
	<link type="text/css" href="css/theme.css" rel="stylesheet">
	<link type="text/css" href="images/icons/css/font-awesome.css" rel="stylesheet">
	<link type="text/css" href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,600' rel='stylesheet'>

    <script src="scripts/config.js" type="text/javascript"></script>
	<!-- JS API导入 不导ajax要废废 -->
    <script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
</head>
<body>
        <!-- 顶部栏内容 -->
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-inverse-collapse">
                        <i class="icon-reorder shaded"></i></a><a class="brand" href="index.html">LBS </a>
                    <div class="nav-collapse collapse navbar-inverse-collapse">

                        <!-- 顶部三图标快捷入口 -->
                        <ul class="nav nav-icons">
                            <li class="active"><a href="#"><i class="icon-envelope"></i></a></li>
                            <li><a href="#"><i class="icon-eye-open"></i></a></li>
                            <li><a href="#"><i class="icon-bar-chart"></i></a></li>
                        </ul>

                        <!-- 搜索框控件 -->
                        <form class="navbar-search pull-left input-append" action="#">
                        <input type="text" class="span3">
                        <button class="btn" type="button">
                            <i class="icon-search"></i>
                        </button>
                        </form>
                        <!-- 右上角的一坨 -->
                        <ul class="nav pull-right">
                            <!-- 系统设置下拉模块 -->
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    系统设置
                                <b class="caret"></b>
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a href="#">系统设置1</a></li>
                                    <li><a href="#">系统设置2</a></li>
                                    <li class="divider"></li>
                                    <li class="nav-header">阴影选项</li>
                                    <li><a href="#">待开发</a></li>
                                </ul>
                            </li>
                            <!-- 用户名显示模块 -->
                            <li><a href="#" id="username">Support </a></li>
                            <!-- 个人信息中模块 -->
                            <li class="nav-user dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <img src="images/user.png" class="nav-avatar" />
                                <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li><a href="#">个人信息</a></li>
                                    <li><a href="#">编辑信息</a></li>
                                    <li><a href="#">帐号设置</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#">注销</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <!-- /.nav-collapse -->
                </div>
            </div>
            <!-- /navbar-inner -->
        </div>
        <!-- /navbar -->


        <div class="wrapper">
            <div class="container">
                <div class="row">
                    <div class="span3">

                    <!-- 左边导航栏模块 -->
                        <div class="sidebar">
                            <!-- 左边上部分导航栏模块 -->
                            <ul class="widget widget-menu unstyled">
                                <li class="active"><a href="index.html"><i class="menu-icon icon-dashboard"></i>实时监控
                                </a></li>
                                <li><a href="activity.html"><i class="menu-icon icon-bullhorn"></i>监控信息 </a>
                                </li>
                                <li><a href="message.html"><i class="menu-icon icon-inbox"></i>信息通知 <b class="label green pull-right">
                                    11</b> </a></li>
                                <li><a href="task.html"><i class="menu-icon icon-tasks"></i>规划任务 <b class="label orange pull-right">
                                    19</b> </a></li>
                            </ul>
                            <!--/.widget-nav-->

                            <!-- 左边中部分导航栏模块 -->
                            <ul class="widget widget-menu unstyled">
                                <li><a href="poiManager.html"><i class="menu-icon icon-bold"></i> 监控位置信息 </a></li>
                                <li><a href="polygonManager.html"><i class="menu-icon icon-book"></i>监控密度信息 </a></li>
                                <li><a href="form.html"><i class="menu-icon icon-paste"></i>创建监控工程 </a></li>
                                <li><a href="table.html"><i class="menu-icon icon-table"></i>监控统计表 </a></li>
                                <li><a href="charts.html"><i class="menu-icon icon-bar-chart"></i>监控统计图 </a></li>
                            </ul>

                            <!-- 左边下部分导航栏模块 -->
                            <!--/.widget-nav-->
                            <ul class="widget widget-menu unstyled">
                                <li><a class="collapsed" data-toggle="collapse" href="#togglePages"><i class="menu-icon icon-cog">
                                </i><i class="icon-chevron-down pull-right"></i><i class="icon-chevron-up pull-right">
                                </i>管理中心 </a>
                                    <ul id="togglePages" class="collapse unstyled">
                                        <li><a href="poiManager.html"><i class="icon-inbox"></i>点信息管理 </a></li>
                                        <li><a href="polygonManager.html"><i class="icon-inbox"></i>面信息管理 </a></li>      
                                        <li><a href="other-login.html"><i class="icon-inbox"></i>登录切换 </a></li>
                                        <li><a href="other-user-profile.html"><i class="icon-inbox"></i>信息中心 </a></li>
                                        <li><a href="other-user-listing.html"><i class="icon-inbox"></i> 用户列表 </a></li>                                                   
                                    </ul>
                                </li>
                                <li>
                                    <a href="#" onclick="logout()">
                                    <i class="menu-icon icon-signout"></i>
                                    登出注销 </a>
                                </li>
                            </ul>
                        </div>
                        <!--/.sidebar-->
                    </div>
                    <!--/.span3-->


				<div class="span9">
					<div class="content">

						
						<div class="module">
							<div class="module-head">
								<h3>Polygon面数据信息</h3>
							</div>
							<div class="module-body table">
                                    <table id ="polygon_density" cellpadding="0" cellspacing="0" border="0" class="datatable-1 table table-bordered table-striped	 display"
                                        width="100%">
                                        <thead>
                                            <tr>
                                                <th>
                                                    所选区域
                                                </th>
                                                <th>
                                                    面积
                                                </th>
                                                <th>
                                                    人数
                                                </th>
                                                <th>
                                                    密度
                                                </th>
                                                <th>
                                                    等级
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>
                                                    所选区域
                                                </th>
                                                <th>
                                                    面积
                                                </th>
                                                <th>
                                                    人数
                                                </th>
                                                <th>
                                                    密度
                                                </th>
                                                <th>
                                                    等级
                                                </th>
                                            </tr>
                                        </tfoot>
                                    </table>
							</div>
						</div><!--/.module-->

					<br />
						
					</div><!--/.content-->

				</div><!--/.span9-->
			</div>
		</div><!--/.container-->
	</div><!--/.wrapper-->

        <!-- 页脚模块 -->
        <!--/.wrapper-->
        <div class="footer">
            <div class="container">
                <b class="copyright">&copy; 2017 LBS402 - 王老汉 </b>All rights reserved.
            </div>
        </div>

<script type="text/javascript">
    // 处理session脚本内容
    if(sessionStorage.session_id!='null' && sessionStorage.session_id!=null){
        document.getElementById("username").text=' '+ sessionStorage.username + ' ';
    }else{
        document.getElementById("username").text=' '+ "login" + ' ';
        sessionStorage.clear();
        window.location.href="../login/login.html";        
    }

    // ajax请求初期加载过程

    // 切换线上测试地址
    var address = "127.0.0.1";
    // 获取请求接口数据的临时变量
    var tmp;
    // 请求过程
    $.ajax({
    type: "get",
    url: "http://" + config.mAddress + ":8088/John/api/polygon/selectAll",
    dataType: "json",
    data: {},
    async: false,
    success: function(msg){
        console.log(msg);
        tmp = msg;
    },
    error: function(){
        alert('服务端异常,获取Polygon信息失败');
        $('#loading').addClass('hidden');
    }
    });


    var oTable = document.getElementById("polygon_density");  
    var oTbody = oTable.getElementsByTagName("tbody"); 
  
    for (var i = 0; i < tmp.length; i++) {
        var mtr = document.createElement("tr"); 
        oTbody[0].appendChild(mtr);

        var mtd1 = document.createElement("td");
        mtd1.appendChild(document.createTextNode(tmp[i].pname));
        mtr.appendChild(mtd1);

        var mtd2 = document.createElement("td");
        mtd2.appendChild(document.createTextNode(tmp[i].s));
        mtr.appendChild(mtd2);

        var mtd3 = document.createElement("td");
        mtd3.appendChild(document.createTextNode(tmp[i].n));
        mtr.appendChild(mtd3); 

        var mtd4 = document.createElement("td");
        mtd4.appendChild(document.createTextNode(tmp[i].e));
        mtr.appendChild(mtd4); 

        var mtd5 = document.createElement("td");
        mtd5.appendChild(document.createTextNode(tmp[i].grade));
        mtr.appendChild(mtd5);                                 
    }; 
</script>

	<script src="scripts/jquery-1.9.1.min.js"></script>
	<script src="scripts/jquery-ui-1.10.1.custom.min.js"></script>
	<script src="bootstrap/js/bootstrap.min.js"></script>
	<script src="scripts/datatables/jquery.dataTables.js"></script>
	<script>
		$(document).ready(function() {
			$('.datatable-1').dataTable();
			$('.dataTables_paginate').addClass("btn-group datatable-pagination");
			$('.dataTables_paginate > a').wrapInner('<span />');
			$('.dataTables_paginate > a:first-child').append('<i class="icon-chevron-left shaded"></i>');
			$('.dataTables_paginate > a:last-child').append('<i class="icon-chevron-right shaded"></i>');
		} );
	</script>
</body>